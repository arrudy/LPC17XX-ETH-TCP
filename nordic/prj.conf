CONFIG_GPIO=y
CONFIG_HEAP_MEM_POOL_SIZE=16384
CONFIG_DK_LIBRARY=y

# === Serial & UART ===
CONFIG_SERIAL=y
CONFIG_UART_INTERRUPT_DRIVEN=y
# Wyłączamy Async API na sztywno, żeby uniknąć konfliktów
CONFIG_UART_ASYNC_API=n

# === USB Device Stack ===
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_PRODUCT="nRF UART3"
CONFIG_USB_DEVICE_VID=0x1915
CONFIG_USB_DEVICE_PID=0x520F
# Ręczna inicjalizacja w main()
CONFIG_USB_DEVICE_INITIALIZE_AT_BOOT=n

# === USB CDC ACM (Kluczowe dla drugiego portu) ===
CONFIG_USB_CDC_ACM=y
CONFIG_UART_LINE_CTRL=y

# === Logowanie (Tylko RTT) ===
CONFIG_LOG=y
CONFIG_USE_SEGGER_RTT=y
CONFIG_LOG_BACKEND_RTT=y
CONFIG_LOG_BACKEND_UART=n
# Wyłączamy konsolę na UART, żeby nie blokowała portu
CONFIG_UART_CONSOLE=n
CONFIG_CONSOLE=y